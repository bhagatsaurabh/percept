<p align="center">
<a href="https://percept.saurabhagat.me">
<img width="50%" alt="Percept" src="https://raw.githubusercontent.com/bhagatsaurabh/percept/main/static/logo.png" />
</a>
</p>

<h2 align="center">An HTML5 Canvas Rendering Engine</h2>

<br/>

<p align="center">
<a href="https://github.com/bhagatsaurabh/percept/actions/workflows/pipeline.yml">
<img alt="GitHub Workflow Status" src="https://img.shields.io/github/actions/workflow/status/bhagatsaurabh/percept/pipeline.yml?branch=main&label=CI&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC%2FxhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t%2FAAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gUKFyETutzc4wAABApJREFUSMedlH1M1WUUxz%2Fnd2HGVsyLeMk%2F2HRo%2BgerSeIE3eRNJoo01Li6xaw1UAspV7zNF0Rteq9by%2BlUslUiMzEvKPEiV2DpFJZbOcNcGBW5ZclVzIGIee%2Fv9Ede2rjdXev717Nn55zP95zn2RHGqazMtV21qYk2%2BQjS02nTU9DdbZi%2BPigq2jUlL0%2Fk2jX%2Bo8oW1TtVV63CrfGwezefyh%2BwZ4%2BMD6xIa5ipmpTkazF9cOaMVOKAyEiW4oGBAWOGz4rGx%2B%2BakmcXw%2BMJBnxLG1R14sSnEsxXUZeLTHKQtLSxgNucgP5%2Bo%2FQb14hqc3PFFtf7qvPn7%2BrM7RXp7qaATLSoaCyhmclgs%2Fm%2BCvsFVq8O1XF4%2FqPPwWqlHjuycGFAwA15ESoqDHmJLZCSYj7NILS2lpe74lULC6nmPCxbNj5PjukpJCYmGPjdV%2BqdatpshtNyFRobOcQDsFhok40wOoqbRrSz03F2eanI8eNheFmHdnUxyLdIRobCbKiulipA%2FoUwTXrBag0O1mGko0P28gLEx%2FMsL6OtrUaUzEDy88053iXg9XKZIwCG7pZRpLiYJj6AW7dCfyf9ENavL%2Fv5ZKPq1q2gqipiydSpcPq0H6x2sqClZWRmxPeQm%2Fv3096543Dm2cW4d29sov7DOwlfJKgZHW2Z%2FucpJC9P6ogFm00iCQerVd%2BgDoqLA%2Fys03CorDQ%2Blj7o6PDlMws2bHjQFzEdXbNm35Ilz4nx8GGwdoQnVLn95HU1S0p0qvQgTmfAXEpxwbZtzkkrjolUVT1p3ZAGSnc2rFVz7lzLQ3MmEh6u1zUbTU4OZsQ%2FEce0lTki27f%2FbwMl5%2BsnqSYkGHF6Fc6epVnS0AkTKPBdQ7Kz6TTeRBcswE06smNHQOFGKYf9%2BxnRGXD3rllAJzowYHnddwTq6vx7JMCAv2MZMksRt5tZHISbN3UpI%2BjFi%2FIJUYjdbgwTBVlZZgp9aGpqMCMB%2BmehRUFqqhEK7PUxgmZlSTuVSGwsg7wGpumbYPSijx450lccEGPnTi5wC%2FbtC2ng8UIzEyyz0b17jfIvXTfUTEwMBg4b4hAcPMgVhmHePH3GcKKZmc7NudViXLo0VvgC62FwMAD4q3wGtbXUyVy0sJAoLsPQEFWSA0lJhuYyDDU1lLMFIiMlw5eI5uSMgX%2FnByQ5OSj4sfQ9ItDbtwPuRW2o2%2B3oXx4rxuHD1OgxWLxY5%2BjXyLlzUtbjmqOmx0MtFUh0NHGyGb1%2Fnx%2B1CfF6Q4H9qvjtRJ2akyebGZb9SE8P2bwNMTFjHT8GO75b%2BZNIV5c%2Fz5ArrEWKiuhmEXg83NM2pL9fG3QjmpERCuyX%2F1drqRyA1FRqeB5tbyeOZRAWpkflKmzaND7vL7TQ7bt9WJJoAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTEwVDIzOjMzOjE5KzAwOjAw7KPZpwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0xMFQyMzozMzoxOSswMDowMJ3%2BYRsAAAAASUVORK5CYII%3D&style=flat-square">
</a>
<a href="https://app.codecov.io/gh/bhagatsaurabh/percept">
<img alt="Codecov test coverage" src="https://img.shields.io/codecov/c/github/bhagatsaurabh/percept/main?label=Coverage&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC%2FxhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t%2FAAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gUKFzMgffjNJgAAAj1JREFUSMfVkk9I03EYxp%2F3pxuixyCpgSRDJylUGAuiwuZB5mEXMRXMAmtEsEAJzJ8LMWTuYEEXD0rKJBFyTOniQYLC44QMm8SiUEL0Yv%2FY5rbY7%2BmSc6jjF20eeo%2Ff7%2FO%2Bz%2Bd9vl%2BBTlGj1k%2BjERJb%2FLUeiQA4j1GDIXsDAmgJBEQpue4509SkN1%2FRE4giyoAkk6DM4dbwcEarVUytrQAW%2BGhkBMA82hMJQF5q37xevbl%2FDbBHgrN8uLS0d1D0Pvza7wfwXALBIIA13E2lRCme8dYFg%2FkHOKL6rwAScsNkQvqtgdMvSED5jsF4HEAdzEYjtcgn9V5pad4AqFFz3jYYABbC1NUFoBIXJyZERAZE04CiBcO7uTkAgp%2BbmxCZZa%2FbnbeIyOh0r7ezk4y%2BUdeSSTJ%2B2V1WXn6ILqomnc4MXcDdYjbnYEw2NxcUkFGXeiocphY7rl4YG9PXx1xq4eoqGZtVn05N6flI9uijJ9XHHR0QfMS2zwegD1cWF0EU8urWVvaJsi3PqqsB9uNDVRWA%2B7hUWytS4vdcW17WBdjdBNgZrHgVCgHsxh2L5d%2BjlHPYmJ8XpTjs8TU27r8%2B%2BAkZ%2FVxxoq0tZ%2BP0inwLk91ORtrdZTZbVgCS7KeiQBQXTD09ORsfJOnWKoeGSBKQdPIZCew4k6MOB8AZ%2FKipyT8ALLBarUCs%2BcGXhoZDAGiBo77%2BCIz31zH5arcfAgDQNj4OiJ2ulRUA6%2BhKpfJg%2BGeO3GRfKATgCacnJ3cvfwN9%2FfvYsMKoQwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNS0xMFQyMzo1MTozMiswMDowMEDBkF4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDUtMTBUMjM6NTE6MzIrMDA6MDAxnCjiAAAAAElFTkSuQmCC&style=flat-square">
</a>
<a href="https://sonarcloud.io/summary/overall?id=percept">
<img src="https://sonarcloud.io/api/project_badges/measure?project=percept&metric=security_rating" alt="SonarCloud security rating" />
</a>
<a href="https://sonarcloud.io/summary/overall?id=percept">
<img src="https://sonarcloud.io/api/project_badges/measure?project=percept&metric=alert_status" alt="SonarCloud quality gate status">
</a>
<a href="https://bundlephobia.com/package/canvas-percept@1.0.20"><img alt="npm bundle size" src="https://img.shields.io/bundlephobia/min/canvas-percept?label=Minified%20Size&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC%2FxhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t%2FAAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gULACcja4qZWQAAAphJREFUSMe9VF1IU2EYft7T3NCcIv6kC0E06C5mtCEJQ7GMFFptod0MgzBBidALAwsiXK6LUop1KQil1ihHOBWxLiKNTG8iFBRCiQWS2Dyt5YbzvF2cjpp%2FZy3ouXng%2Ffme932%2Bj48QJ5gnJ1vmc3IAnBGeFhYCfJVPGI1gvMZzoxHAT2hyc0HciWd6PYAnNKvXAzTGfXo9wGm44veTqpA0OXGtOTUVWHu574DVClAG9TocIETwpqwMgBlOUj1nE%2BZQIopgycv9Fsu2RmZmgAj8%2Fk7LPYcDROfoYHs7gO%2F4mJ4er2ObkE%2B1djuROcOZ19e3PgBLU%2BdvslYLCs1EH3k8ADoxY7XGfm4kIrNWK%2FNWV8gCg9dLZArfbrDZlKiwkQ%2B9iF7s6opdOBqVeWFBZlHcu55GudLp3BZlabzgRnV5OYh6%2BdDwsLrwyorMS0syZ2bKrNPtWM5o4trxcRLMo215RUVb0wKIkriyvl5dWNlQYYNhT%2BH1FSlAqYODu6UFMBrRXFysLqzccXb271YBMYEDkn1kZPcBCF9xKiVleyoUkjkc%2FtPqWEFncToYBIe%2BaF9NTOzlwBE88Ps3QqurMi8vy5yVpXj5dwOwhS4PDJBQSrdIebA7OxDk4f5%2BgFkOLS7%2Bm%2FC6Aw%2FX7G63WpUAlrwYdbkAcR4loggkJcmphIT4hJGPqe5uIlO6q3VsTH0A%2BlCacD8YBL75%2BejsLJB2Cdbp6Tg2ruBWnw%2FQuSLJdXWxdmmAZOPahZoasFQNs9sN%2FPisaerpAe1vWC212QB6R4crKgCOwFRQAOAukgUBgAmf5uYA6qA6jwc4tqghn4%2BIqO2xJMU8N3N32nXD0BCzx9P4NjExTtvjhgBAxMlAgKiqquO48sv9P%2FwCgnPvRA99ivYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMTFUMDA6Mzk6MzUrMDA6MDCMyB2VAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTExVDAwOjM5OjM1KzAwOjAw%2FZWlKQAAAABJRU5ErkJggg%3D%3D&style=flat-square"></a>
<a href="https://www.npmjs.com/package/canvas-percept">
<img alt="npm monthly downloads" src="https://img.shields.io/npm/dm/canvas-percept?label=Downloads&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC%2FxhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t%2FAAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gULAC0rn7754QAAAUpJREFUSMfFk79LAnEYxp%2F3cgla2lzMzSXIzaEhcgguF0VEExp0sxqEptu%2BXmPNcdfQ3hS3iFCIs0IR%2FQm39QeEP058mjRCwjs5zmf5wsv7fZ%2FP%2B8ALbFgS9MP9E2kOs1ntE%2BCg0ZjXZweAZGz76kxEbfd6fufFggIsjBMAeuXyn%2Fqiyz%2BAFjiyR5BHIn7roQOErY0DrIzM6pOKrot3QMxEwvfkVwC7rnvxLNJqJpNrJyA7gPZVr%2BMFQGw0Wml8C2BrMqEBSPr3StYGaOyLqHi3iz1QTgsFpACq8Xip8Rug8jx5AyVVKl1mRNRxp%2BM7Mb%2Byx6RisWgNydaN51nnpOJ0al%2BTZrNaDd3wPz1opGlUKvM3MuOwJdYJqeg4KAJi5vORGd8BOHQcDQYA6HrUmzMNYKDrYpFUrNUkDgK5XFQAsw%2BIVm23o158ST%2BEvnxCe1B8SQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNS0xMVQwMDo0NTo0MyswMDowMNba1LsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDUtMTFUMDA6NDU6NDMrMDA6MDCnh2wHAAAAAElFTkSuQmCC&style=flat-square">
</a>
</p>

<br/>

Working with HTML5 canvas can be quite difficult, especially if you're making an
animation, game, or adding interactivity.
<br/>
Percept provides an easy-to-use API for rendering on canvas.

[percept.saurabhagat.me](https://percept.saurabhagat.me)

* [API Documentation](https://docs.percept.saurabhagat.me)
* [Examples](https://percept.saurabhagat.me)
* [Online Playground](https://percept.saurabhagat.me/playground)

<br/>

## Installation & Usage

### Node

```shell
npm i canvas-percept
```
or
```shell
yarn add canvas-percept
```
<br/>

```js
import * as Percept from 'canvas-percept'
```

<br/>

### CDN

[https://cdn.jsdelivr.net/npm/canvas-percept@1.0.20/dist/percept.js](https://cdn.jsdelivr.net/npm/canvas-percept@1.0.20/dist/percept.js)

```html
<script src="https://cdn.jsdelivr.net/npm/canvas-percept@1.0.20/dist/percept.js"></script>
```

<br/>

## Example

Drawing a simple draggable rotating shape

```javascript
let canvas = new Percept.Canvas(document.getElementById("canvas"));

let shape = new Percept.View.Rectangle(
  "rect",
  new Percept.Vector(canvas.width / 2, canvas.height / 2), 100, 30,
  {
    fill: true,
    fillColor: new Percept.View.LinearGradient(
      Percept.Vector.Zero(), 45,
      Percept.Handle.AUTO,
      ["#57cfd2", "#987bd2", "#ffd966"],
      [0, 0.5, 1]
    ),
    shadowColor: "#000",
    shadowBlur: 5,
  }
);
let text = new Percept.View.Text(
  "caption",
  new Percept.Vector(80, 0), "Drag Me !",
  { font: "bold 12px Arial", fillColor: 'green' }
);

text.parent = shape;

shape.on("drag", (view, pos) => (view.position = pos));
shape.on("update", () => {
  shape.props.fillColor.degrees -= 5;
  shape.localRotation += 1;
  text.rotation -= 1;
});

let drawing = new Percept.Drawing(canvas);
drawing.add(shape);

canvas.draw(drawing);

```

See this in action in the [Playground](https://percept.saurabhagat.me/playground) !

<br/>

## Build & Local Development

To output all module types, run
```shell
npm run build
```

<br/>

To target a specific type, run
```shell
# CommonJS modules
npm run build:cjs

# ECMAScript (ES) modules
npm run build:esm

# UMD modules
npm run build:umd
```

<br/>

API Documentation is generated using [TypeDoc](https://typedoc.org/)

```shell
npm run docs
```

<br/>

## Testing

Run tests with coverage using [Jest](https://jestjs.io/)

```shell
npm run test
```
<br/>

## Website source

See [percept-site](https://github.com/bhagatsaurabh/percept-site)

<br/>

## License

[MIT](./LICENSE)


Copyright &copy; 2021-present | Saurabh Bhagat
